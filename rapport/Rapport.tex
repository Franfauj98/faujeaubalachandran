\documentclass[12pt,a4paper]{article}
%police
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}

\usepackage[tc]{titlepic}

\usepackage{adjustbox}
\usepackage{graphicx}
\usepackage{layout}
\usepackage{fancyhdr}
\usepackage{eurosym}
\usepackage{multirow}
\usepackage{float}
\usepackage[normalem]{ulem}

\usepackage{hyperref}

\usepackage{geometry}
\geometry{margin=1.2in}

\pagestyle{fancy}
\fancyhead{}
\renewcommand{\headrulewidth}{0pt}
\lfoot{PLT - BALACHANDRAN Chirojean - FAUJEAU François}
\cfoot{}
\rfoot{\thepage}

\begin{document}

\begin{titlepage}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}} % Defines a new command for the horizontal lines, change thickness here

\begin{minipage}{0.4\textwidth}
\begin{flushleft} \large
\includegraphics[width=0.5\textwidth]{Logo_ENSEA.jpg} 
\end{flushleft}
\end{minipage}
~
\begin{minipage}{0.57\textwidth}
\begin{flushright} \large
FAUJEAU François \textsc{} \\
BALACHANDRAN Chirojean\textsc{} \\
3A IS\textsc{} \\
\end{flushright}
\end{minipage}\\[1cm]

\centering

\HRule \\[0.5cm]
{ \huge \bfseries PROJET CIVILIZATION}\\[0.3cm]% Title of your document
Rapport du projet logiciel transversal \textsc{} \\[0.5cm]
\HRule \\[3cm]

\includegraphics[width=1\textwidth]{map.png}\\[3.5cm]


\begin{flushleft}
Année scolaire: 2018-2019
\end{flushleft}
\end{titlepage}


\newpage

\tableofcontents
\thispagestyle{empty}
\setcounter{page}{0}

\newpage

\section{Présentation générale}

\subsection{Archétype}

Le but de notre projet logiciel transversal est de créer une version très simplifiée du jeu civilization. Ce jeu est un jeu de stratégie tour par tour où l'objectif d'un joueur est de développer un empire en choississant une civilisation au choix parmi plusieurs. 

\begin{figure}[!ht]
    \centering
    \includegraphics[width=0.7\textwidth]{civ3.png}
     \caption{Image d'un gameplay de civilization 3}
\end{figure}

\subsection{Règles du jeu}

Le but pour chaque joueur est de développer un empire avec la civilisation romaine. Pour cela, le joueur doit améliorer et gérer ses ressources (mines d'or, terres agricoles) ainsi que ses bâtiments (caserne et palais). \\
Nous avons choisi que chaque joueur pourrait seulement utiliser la civilisation romaine. Chaque empire permet de créer différents bâtiments : 
\begin{enumerate}
    \item Le palais : bâtiment principal de l'empire. Son niveau correspond au niveau de l'empire. Plus sont niveau est élevé et plus il est possible d'améliorer les autres bâtiments et unités.
    \item La caserne : permet de former des soldats. Quand le niveau de la caserne augmente, le niveau des troupes formées et le nombre des troupes qui peuvent être formées augmentent. Il y aura quatre types d'unités de combat : un cavalier, un épéiste, un archer et une catapulte. A la création d'une unité, le joueur choisira si elle est créée pour défendre l'empire ou si elle peut se déplacer sur la carte de jeu.
    \item Ressources : le joueur possèdera trois types de ressources à savoir les mines d'or, la réserve de bois et les terres agricoles. Quand le niveau d'une ressource augmente, la capacité de stockage de cette ressource et la quantité produite sont augmentées.
\end{enumerate}
Pour améliorer les bâtiments, il faudra que le joueur dépense une certaine quantité de bois et d'or et pour la formation de soldats une certaine quantité de récoltes agricoles et d'or.\\
Pour développer son empire plus rapidement il est possible d'en combatre un autre (détenu soit par l'IA, soit par un joueur) ou de s'en défendre. En effet, en cas de victoire l'empire victorieux reçoit une partie des ressources de l'empire adverse et un bonus de victoire. L'empire qui a perdu recupère, lui, un faible bonus de défaite. \\Le système de combat est le suivant. 
Chacun leur tour, les joueurs pourront décider de : 
\begin{itemize}
    \item se déplacer pour se rapprocher du combat.
    \item choisir qu'un soldat en attaque un autre s'il est dans sa zone d'action.
\end{itemize}
Un combat se termine lorsque tous les soldats d'un joueur sont éliminés. 
\\Dans notre jeu, un tour correspond à une action: une amélioration de bâtiment, la formation d'une unité, son déplacement.\\

\subsection{Ressources}

Voici les différentes ressources (images, textures, sprites) utilisées pour le développement du jeu. Pour créer les cartes de jeu nous utiliserons le logiciel Tiled Map Editor en mode isométrique. 

\begin{figure}[!ht]
    \centering
    \includegraphics[width=0.7\textwidth]{ressources/cities2.png}
     \caption{Bâtiments de la civilisation romaine en fonction des niveaux}
\end{figure}

\begin{figure}[!ht]
    \centering
    \includegraphics[width=0.7\textwidth]{ressources/Terrain.png}
     \caption{textures pour la création de la map}
\end{figure}
\newpage
\begin{figure}[!ht]
    \centering
    \includegraphics[width=0.7\textwidth]{ressources/ocean.png}
     \caption{textures pour la mer sur la map}
\end{figure}

\begin{figure}[!ht]
    \centering
    \includegraphics[width=0.7\textwidth]{ressources/Units.png}
     \caption{images des unités de combats}
\end{figure}

\newpage

\section{Description et conception des états}

\subsection{Description des états}

Un état de jeu est constitué d'une carte sur lequel se situent différents empires avec leurs différents bâtiments (éléments fixes), les éléments de décor (éléments fixes) et des unités de combats (éléments mobiles).

\subsubsection{Description de la carte}

La carte est représentée avec une grille composée de cases contenant des éléments sur chacunes d'elles avec une certaine position. Elle est composée d'empires, qui sont eux-mêmes constitués de bâtiments, et d'éléments comme les bâtiments, les unités de combats et les éléments de décor. Certains éléments sont franchissables par les unités et d'autres non. La taille de la carte est fixée.

\subsubsection{Description des états éléments fixes}

Les éléments fixes sont les décors et les bâtiments et les empires qui sont abstraits. Tous les éléments fixes possèdent une position (x,y).\\

\uline{Décors}\\

Les décors sont de différents types: eau, herbe, dunes, montagnes, arbre, animaux... Ils ont chaucun un identifiant. Les décors possèdent un attribut passable qui permet de savoir si l'élément est franchissable ou non par les unités de soldats.\\

\uline{Empire}\\

Un empire a plusieurs attributs:
\begin{itemize}
\item un identifiant pour le différencier des autres empires (chiffre)
\item un nom
\item un niveau compris entre 1 et 4
\item des points de vie qui sont égaux à ceux du palais
\item des ressources (or, bois, nourriture) pour se développer et former des troupes
\item une liste de position permettant d'indiquer où se positionne l'empire sur la carte
\end{itemize}

Enfin, elle est composée d'une caserne, d'un bâtiment ressource et enfin d'un palais. \\

\uline{Bâtiments}\\

Les bâtiments ont tous ces attributs 
\begin{itemize}
\item un identifiantpour le différencier des autres (chiffre)
\item un niveau qui va de 0 à 4
\item un coût en bois et en or pour les construire
\item un identifiant pour leur texture graphique
\end{itemize}

Il y a trois types de bâtiments: la caserne, les ressources et le palais.

La caserne a une capacité maximale de formation de troupes et possède comme attribut le nombre de troupes formées. Elle permet de former les différentes troupes.

Les ressources ont un niveau de production identique pour l'or, le bois ainsi que la nourriture. Ils vont permettre d'augmenter la richesse d'un joueur à chaque tour.

Le palais quant à lui possède des points de vie. C'est lui qui sera attaqué par un joueur et sa destruction mènera à la fin d'une partie.\\

\subsubsection{Description des états éléments mobiles}\\

Tous les éléments mobiles possèdent une position (x,y). 
Ils possèdent tous:
\begin{itemize}
\item un identifiant pour les différencier
\item un niveau de vie
\item un niveau de dommages en attaque
\item une portée pour attaquer
\itemun nombre de déplacements de cases limité
\item un coût en or et en nourriture pour la former
\item un identifiant de texture graphique.
\end{itemize}
Les unités de soldats dans le jeu sont les unités de combats: décurion, cavalier, catapulte et archer.\\

\subsection{Conception des états}
Dans cette partie nous allons décrire le diagramme UML d'état du jeu. (Voir figure 6)\\

Class "Element" : Cette classe est la classe mère de tous nos éléments, mobiles ou statiques. Nous avons choisi pour cette classe qu'elle contienne une position, la position de notre élément sur la map, et une méthode isPassable(), qui nous permet de savoir si l'élément peut être traversé par un autre.\\

Class "Units" : Cette classe est la classe mère de toutes nos unités mobiles sur la carte. Elle hérite d'"Element". Elle contient tous les paramètres nécessaires à la création d'une unité (vie, attaque, niveau, ...). \\

Class "Arrow" : Cette classe est la classe fille de Units. Elle hérite d'"Element". Elle permet de construire des unitées de type archer avec leurs attributs initialisés en fontion de leur niveau. Ce sera la façon la plus utilisée de créer un archer. Il existe de même des classes pour Decurion, Cavalier et Catapult.\\

Class "Buildings" : Cette classe est la classe mère de toutes nos unités statiques sur la carte. Elle hérite d'"Element". Elle contient tous les paramètres nécessaires à la création d'un bâtiment (niveau, coût, ...).\\

Class "Barrack" : Une caserne est un bâtiment et hérite donc de "Buildings", elle ajoute en plus quelques fonctionnalitées telles que la création d'unités. De même pour les bâtiments de type ressource et palais.\\

Concernant les coûts, nous avons créé deux classes qui permettent de créer le coût des unités et des bâtiments, et de pouvoir les modifier.\\

Nous avons aussi choisi d'attribuer à chaque élément un id qui permet de savoir instantanément lequel il est.\\

Class "Decor" : Cette classe hérite d'élément, elle permet de créer les différents décors qui seront présents sur la carte de jeu.\\ 

Class "Empire" : Dans notre jeu nous avons besoin à tout instant d'avoir une classe qui stocke les éléments importants d'un empire. Par exemple un empire à un nom, une vie, de l'or, du bois, de la nourriture, ... . Ainsi, cette classe va agir comme un conteneur de tous les élements clés de notre empire.\\

Class "Map" : cette classe contient les éléments sur la carte de jeu. Elle permet d'ajouter des élément, de les récupérer ou d'en supprimer.\\


\begin{figure}[!ht]
\centering
    \includegraphics[width=1\textwidth]{ressources/dia.png}
     \caption{Diagramme de classes d'état}
\end{figure}

\end{document}